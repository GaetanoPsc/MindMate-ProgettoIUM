<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindMate</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f0f2f5; /* Light gray background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden; /* Prevents body scroll */
        }
        .phone-frame {
            position: relative;
            width: 300px; /* Smaller mobile width */
            height: 650px; /* Smaller mobile height */
            background-color: #1a1a1a; /* Dark gray for phone body */
            border-radius: 30px; /* Rounded corners for phone */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3), 0 0 0 6px rgba(0, 0, 0, 0.1); /* Deep shadow */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 8px; /* Inner padding for frame */
            box-sizing: border-box; /* Includes padding in width/height */
            overflow: hidden; /* Hides anything outside the frame */
        }
        .phone-screen {
            width: calc(100% - 16px); /* Screen takes up most of the frame */
            height: calc(100% - 16px);
            background-color: #ffffff; /* White screen background */
            border-radius: 25px; /* Slightly less rounded than the frame */
            overflow-y: auto; /* Vertical scrolling re-enabled */
            display: flex;
            flex-direction: column;
            align-items: center; /* Center content horizontally */
            justify-content: flex-start; /* Align content at the top */
            /* No padding-top here, it will be handled by individual screen content */

            /* Hide scrollbar for WebKit (Chrome, Safari) */
            &::-webkit-scrollbar {
                display: none;
            }
            /* Hide scrollbar for Firefox */
            scrollbar-width: none; /* Firefox */
        }
        .notch {
            position: absolute;
            top: 8px; /* Position at the top of the phone frame */
            width: 120px;
            height: 20px;
            background-color: #1a1a1a;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
            z-index: 10; /* Ensures it's above the screen */
        }
        .home-button-area {
            position: absolute;
            bottom: 8px; /* Position at the bottom of the phone frame */
            width: 80px;
            height: 6px;
            background-color: #444; /* Darker gray for home indicator */
            border-radius: 3px;
            z-index: 10;
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .phone-frame {
                width: 90vw; /* Use viewport width for smaller screens */
                height: 85vh; /* Use viewport height for smaller screens */
                border-radius: 25px;
                padding: 4px;
            }
            .phone-screen {
                width: calc(100% - 8px);
                height: calc(100% - 8px);
                border-radius: 20px;
            }
            .notch {
                width: 100px;
                height: 18px;
                border-bottom-left-radius: 10px;
                border-bottom-right-radius: 10px;
            }
            .home-button-area {
                width: 60px;
                height: 5px;
                border-radius: 2.5px;
            }
        }

        /* Styles for custom confirmation message */
        .custom-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1rem;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            z-index: 100; /* Ensures it's above everything */
        }
        .custom-message.show {
            opacity: 1;
        }

        /* Styles for toggle switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 20px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(13px); /* Adjusted for better fit */
            -ms-transform: translateX(13px); /* Adjusted for better fit */
            transform: translateX(13px); /* Adjusted for better fit */
        }
    </style>
</head>
<body>
    <div class="phone-frame">
        <div class="notch"></div>
        <div class="phone-screen" id="app-content">
            <!-- Initial content will be loaded here by JavaScript -->
        </div>
        <div class="home-button-area"></div>
    </div>

    <script>
        // appContent will be defined inside DOMContentLoaded
        let appContent;

        // Function to show a custom message
        function showCustomMessage(message) {
            let messageBox = document.getElementById('customMessageBox');
            if (!messageBox) {
                messageBox = document.createElement('div');
                messageBox.id = 'customMessageBox';
                messageBox.classList.add('custom-message');
                document.body.appendChild(messageBox); // Add to body to be above phone frame
            }
            messageBox.textContent = message;
            messageBox.classList.add('show');

            setTimeout(() => {
                messageBox.classList.remove('show');
            }, 2000); // Message disappears after 2 seconds
        }

        // Function to show the welcome screen
        function showWelcomeScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col items-center pt-8 pb-4 bg-gray-50 rounded-t-2xl">
                    <img src="uploaded:image_4c66cb.jpg-433b78b3-5ca2-47c6-b196-9390444d94fd" alt="Immagine di tre persone che studiano" class="w-11/12 h-auto rounded-lg shadow-md border border-gray-200" onerror="this.onerror=null;this.src='https://placehold.co/250x180/E0E0E0/333333?text=MindMate+Image';">
                </div>
                <div class="p-6 flex flex-col items-center text-center flex-grow">
                    <h1 class="text-2xl font-bold mb-4 text-gray-800">Welcome to MindMate</h1>
                    <p class="text-gray-600 mb-8">Your go-to resource for mental well-being at university. We're here to support you every step of the way.</p>
                </div>
                <div class="w-full px-2 py-4 flex justify-center items-end bg-white rounded-b-2xl">
                    <button id="getStartedButton" class="w-full py-3 bg-blue-200 text-blue-800 font-semibold rounded-full shadow-md hover:bg-blue-300 transition duration-300">
                        Get Started
                    </button>
                </div>
            `;
            // Add event listener after inserting the button into the DOM
            document.getElementById('getStartedButton').addEventListener('click', showLoginSignUpScreen);
        }

        // Function to show the login/signup screen
        function showLoginSignUpScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col items-center px-6 py-4 pt-8">
                    <h2 class="text-xl font-semibold mb-8 text-gray-800">MindMate</h2>
                    <h1 class="text-2xl font-bold mb-8 text-gray-800 text-center">Join our community</h1>

                    <input type="email" placeholder="Email address" class="w-full px-4 py-3 mb-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                    <input type="password" placeholder="Password" class="w-full px-4 py-3 mb-6 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

                    <button id="logInButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 mb-4">
                        Log In
                    </button>
                    <button id="signUpButton" class="w-full py-3 text-blue-500 font-semibold rounded-lg hover:bg-blue-50 transition duration-300">
                        Sign Up
                    </button>
                </div>
            `;
            // Add event listeners after inserting the buttons into the DOM
            document.getElementById('logInButton').addEventListener('click', showDashboardScreen);
            document.getElementById('signUpButton').addEventListener('click', showSignUpScreen);
        }

        // Function to show the signup screen
        function showSignUpScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col items-center px-6 py-4 pt-8">
                    <h2 class="text-xl font-semibold mb-8 text-gray-800">MindMate</h2>
                    <h1 class="text-2xl font-bold mb-8 text-gray-800 text-center">Join our community</h1>

                    <input type="text" placeholder="Name" class="w-full px-4 py-3 mb-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                    <input type="email" placeholder="Email address" class="w-full px-4 py-3 mb-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                    <input type="password" placeholder="Password" class="w-full px-4 py-3 mb-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                    <input type="text" placeholder="University (optional)" class="w-full px-4 py-3 mb-6 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

                    <button id="signUpSubmitButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 mb-4">
                        Sign Up
                    </button>
                    <button id="logInLink" class="w-full py-3 text-blue-500 font-semibold rounded-lg hover:bg-blue-50 transition duration-300">
                        Log In
                    </button>
                </div>
            `;
            // Add event listeners after inserting the elements into the DOM
            document.getElementById('signUpSubmitButton').addEventListener('click', showDashboardScreen);
            document.getElementById('logInLink').addEventListener('click', showLoginSignUpScreen); // Go back to login screen
        }

        // Function to show the dashboard screen
        function showDashboardScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="chatIconTopLeft" class="fas fa-comment-dots text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800">MindMate</span>
                        <i id="settingsIcon" class="fas fa-cog text-gray-600 text-xl cursor-pointer"></i>
                    </div>

                    <div class="p-4">
                        <h1 class="text-xl font-bold mb-4 text-gray-800">How are you feeling today?</h1>
                        <div id="feelingButtons" class="flex flex-wrap gap-2">
                            <button class="feeling-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full border border-gray-200 hover:bg-gray-200 transition duration-200" data-feeling="Great">Great</button>
                            <button class="feeling-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full border border-gray-200 hover:bg-gray-200 transition duration-200" data-feeling="Good">Good</button>
                            <button class="feeling-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full border border-gray-200 hover:bg-gray-200 transition duration-200" data-feeling="Okay">Okay</button>
                            <button class="feeling-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full border border-gray-200 hover:bg-gray-200 transition duration-200" data-feeling="Not Great">Not Great</button>
                            <button class="feeling-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full border border-gray-200 hover:bg-gray-200 transition duration-200" data-feeling="Awful">Awful</button>
                        </div>
                    </div>

                    <div class="p-4 border-t border-gray-200 mt-4">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">Deepen your feelings</h2>
                        <textarea id="feelingDetails" class="w-full px-4 py-3 mb-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" rows="4" placeholder="Share more about how you're feeling..."></textarea>
                        <button id="saveFeelingButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Save
                        </button>
                    </div>

                    <div class="p-4">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">Your Week at a Glance</h2>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg shadow-sm">
                                <i class="fas fa-users text-blue-500 text-lg mr-4"></i>
                                <div>
                                    <p class="font-semibold text-gray-800">Study Group</p>
                                    <p class="text-sm text-gray-600">10:00 AM - 11:00 AM</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg shadow-sm">
                                <i class="fas fa-calendar-alt text-green-500 text-lg mr-4"></i>
                                <div>
                                    <p class="font-semibold text-gray-800">Therapy Session</p>
                                    <p class="text-sm text-gray-600">2:00 PM - 3:00 PM</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg shadow-sm">
                                <i class="fas fa-calendar-alt text-purple-500 text-lg mr-4"></i>
                                <div>
                                    <p class="font-semibold text-gray-800">Yoga Class</p>
                                    <p class="text-sm text-gray-600">6:00 PM - 7:00 PM</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="p-4 flex-grow">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">Quick Resources</h2>
                        <div class="grid grid-cols-2 gap-3">
                            <button id="archiveButton" class="flex flex-col items-center justify-center p-4 bg-blue-100 text-blue-700 rounded-lg shadow-sm hover:bg-blue-200 transition duration-200">
                                <i class="fas fa-book text-2xl mb-2"></i>
                                <span class="text-sm font-semibold">Archive</span>
                            </button>
                            <button id="chatButton" class="flex flex-col items-center justify-center p-4 bg-blue-100 text-blue-700 rounded-lg shadow-sm hover:bg-blue-200 transition duration-200">
                                <i class="fas fa-comment-alt text-2xl mb-2"></i>
                                <span class="text-sm font-semibold">Chat</span>
                            </button>
                            <button id="communityButton" class="flex flex-col items-center justify-center p-4 bg-blue-100 text-blue-700 rounded-lg shadow-sm hover:bg-blue-200 transition duration-200">
                                <i class="fas fa-users text-2xl mb-2"></i>
                                <span class="text-sm font-semibold">Community</span>
                            </button>
                            <button id="reminderButton" class="flex flex-col items-center justify-center p-4 bg-blue-100 text-blue-700 rounded-lg shadow-sm hover:bg-blue-200 transition duration-200">
                                <i class="fas fa-bell text-2xl mb-2"></i>
                                <span class="text-sm font-semibold">Reminder</span>
                            </button>
                        </div>
                    </div>

                    <div class="w-full bg-white border-t border-gray-200 grid grid-cols-4 text-center text-gray-500 text-xs py-2">
                        <button class="flex flex-col items-center justify-center p-1 text-blue-600">
                            <i class="fas fa-home text-lg mb-1"></i>
                            <span>Home</span>
                        </button>
                        <button id="resourcesNavButton" class="flex flex-col items-center justify-center p-1 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-bookmark text-lg mb-1"></i>
                            <span>Resources</span>
                        </button>
                        <button id="communityNavButton" class="flex flex-col items-center justify-center p-1 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-users text-lg mb-1"></i>
                            <span>Community</span>
                        </button>
                        <button id="profileNavButton" class="flex flex-col items-center justify-center p-1 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-user text-lg mb-1"></i>
                            <span>Profile</span>
                        </button>
                    </div>
                </div>
            `;
            // Add logic for feeling buttons after they are added to the DOM
            const feelingButtons = appContent.querySelectorAll('.feeling-button');
            feelingButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove 'selected' class from all buttons
                    feelingButtons.forEach(btn => {
                        btn.classList.remove('bg-blue-500', 'text-white', 'border-blue-500');
                        btn.classList.add('bg-gray-100', 'text-gray-700', 'border-gray-200');
                    });

                    // Add 'selected' class to the clicked button
                    button.classList.remove('bg-gray-100', 'text-gray-700', 'border-gray-200');
                    button.classList.add('bg-blue-500', 'text-white', 'border-blue-500');

                    console.log(`Feeling selected: ${button.dataset.feeling}`);
                    // Here you could add further logic, e.g., saving the mood state
                });
            });

            // Logic for the "Save" button in the "Deepen your feelings" section
            const saveFeelingButton = appContent.querySelector('#saveFeelingButton');
            const feelingDetailsTextarea = appContent.querySelector('#feelingDetails');

            if (saveFeelingButton && feelingDetailsTextarea) {
                saveFeelingButton.addEventListener('click', async () => {
                    const details = feelingDetailsTextarea.value;
                    if (details.trim() !== '') {
                        console.log('Feeling details saved:', details);
                        showCustomMessage('Message saved!');
                        feelingDetailsTextarea.value = ''; // Clear the textarea after saving
                    } else {
                        showCustomMessage('Please write something before saving.');
                    }
                });
            }

            // Link settings icon to profile screen
            document.getElementById('settingsIcon').addEventListener('click', showProfileScreen);
            // Link "Profile" nav bar button to profile screen
            document.getElementById('profileNavButton').addEventListener('click', showProfileScreen);
            // Link Archive button to archive screen
            document.getElementById('archiveButton').addEventListener('click', showArchiveScreen);
            // Link Chat button (bottom) to chat list screen
            document.getElementById('chatButton').addEventListener('click', showChatListScreen);
            // Link Chat icon (top left) to chat list screen
            document.getElementById('chatIconTopLeft').addEventListener('click', showChatListScreen);
            // Link Reminder button (bottom) to reminders screen
            document.getElementById('reminderButton').addEventListener('click', showRemindersScreen);
            // Link Community button (bottom) to community screen
            document.getElementById('communityButton').addEventListener('click', showCommunityScreen);
            // Link Community nav button (bottom) to community screen
            document.getElementById('communityNavButton').addEventListener('click', showCommunityScreen);
            // Link Resources nav button to resources screen
            document.getElementById('resourcesNavButton').addEventListener('click', showResourcesScreen);
        }

        // Function to show the profile screen
        function showProfileScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for profile -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToDashboard" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Profile</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Profile content -->
                    <div class="flex flex-col items-center p-6 bg-gray-50 flex-grow">
                        <div class="relative w-24 h-24 rounded-full bg-gray-300 flex items-center justify-center mb-4 overflow-hidden border-4 border-white shadow-md">
                            <img src="uploaded:image_4ea524.png-297985af-45ee-4ed3-b449-8acba63d4fa9" alt="Immagine del profilo utente" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/96x96/E0E0E0/333333?text=User';">
                            <button class="absolute bottom-0 right-0 bg-blue-500 text-white rounded-full p-1 text-xs">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                        <h2 class="text-xl font-bold text-gray-800 mb-2">Gaetano Pascarella</h2>
                        <p class="text-gray-600 mb-6">pascarella.gaetano2003@outlook.it</p>

                        <!-- Edit Profile Section (Name, Email, University removed) -->
                        <button id="editProfileButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 mb-6">
                            Edit Profile
                        </button>
                        
                        <!-- Preferences Section -->
                        <div class="w-full mb-6">
                            <h3 class="text-lg font-extrabold text-gray-800 mb-4 px-4">Preferences</h3>
                            <div class="space-y-3">
                                <div id="notificationsOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                        <i class="fas fa-bell text-xl text-gray-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-800">Notifications</p>
                                        <p class="text-xs text-gray-500">Manage your notifications</p>
                                    </div>
                                </div>
                                <div id="remindersOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                        <i class="fas fa-clock text-xl text-gray-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-800">Reminders</p>
                                        <p class="text-xs text-gray-500">Manage your reminders</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Support Section -->
                        <div class="w-full mb-8">
                            <h3 class="text-lg font-extrabold text-gray-800 mb-4 px-4">Support</h3>
                            <div class="space-y-3">
                                <div id="helpOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                        <i class="fas fa-question text-xl text-gray-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-800">Help</p>
                                        <p class="text-xs text-gray-500">Get help with MindMate</p>
                                    </div>
                                </div>
                                <div id="contactUsOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                        <i class="fas fa-envelope text-xl text-gray-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-800">Contact Us</p>
                                        <p class="text-xs text-gray-500">Contact us for support</p>
                                    </div>
                                </div>
                                <div id="aboutOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                        <i class="fas fa-info text-xl text-gray-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-800">About</p>
                                        <p class="text-xs text-gray-500">Learn more about MindMate</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button class="w-full py-3 bg-red-100 text-red-600 font-semibold rounded-lg shadow-md hover:bg-red-200 transition duration-300">
                            Log Out
                        </button>
                    </div>
                `;
            // Link back button to dashboard screen
            document.getElementById('backToDashboard').addEventListener('click', showDashboardScreen);
            // Link Edit Profile button to edit profile screen
            document.getElementById('editProfileButton').addEventListener('click', showEditProfileScreen);
            // Link Notifications option to notifications screen
            document.getElementById('notificationsOption').addEventListener('click', showNotificationsScreen);
            // Link Help option to help screen
            document.getElementById('helpOption').addEventListener('click', showHelpScreen);
            // Link Contact Us option to contact us screen
            document.getElementById('contactUsOption').addEventListener('click', showContactUsScreen);
            // Link About option to about screen
            document.getElementById('aboutOption').addEventListener('click', showAboutScreen);
            // Link Reminders option to reminders screen
            document.getElementById('remindersOption').addEventListener('click', showRemindersScreen);
        }

        // Function to show the edit profile screen
        function showEditProfileScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for edit profile -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToProfile" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Edit Profile</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for edit profile -->
                    <div class="flex flex-col items-center p-6 bg-gray-50 flex-grow">
                        <div class="relative w-24 h-24 rounded-full bg-gray-300 flex items-center justify-center mb-4 overflow-hidden border-4 border-white shadow-md">
                            <img src="uploaded:image_4ea524.png-297985af-45ee-4ed3-b449-8acba63d4fa9" alt="Immagine del profilo utente" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/96x96/E0E0E0/333333?text=User';">
                            <button class="absolute bottom-0 right-0 bg-blue-500 text-white rounded-full p-1 text-xs">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                        <h2 class="text-xl font-bold text-gray-800 mb-6">Edit Your Information</h2>

                        <input type="text" id="editName" placeholder="Name" value="Gaetano Pascarella" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="email" id="editEmail" placeholder="Email address" value="pascarella.gaetano2003@outlook.it" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="password" id="editPassword" placeholder="New Password (optional)" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="text" id="editUniversity" placeholder="University (optional)" value="University of Fisciano" class="w-full px-4 py-3 mb-6 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

                        <button id="saveChangesButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Save Changes
                        </button>
                    </div>
                </div>
            `;
            // Link back button to profile screen
            document.getElementById('backToProfile').addEventListener('click', showProfileScreen);

            // Logic for the "Save Changes" button
            document.getElementById('saveChangesButton').addEventListener('click', () => {
                const newName = document.getElementById('editName').value;
                const newEmail = document.getElementById('editEmail').value;
                const newPassword = document.getElementById('editPassword').value;
                const newUniversity = document.getElementById('editUniversity').value;

                console.log('Changes saved:', { newName, newEmail, newPassword, newUniversity });
                showCustomMessage('Saved'); // Changed message to "Saved"
                // Here you could add the logic to save user data
                // and then return to the profile screen: showProfileScreen();
            });
        }

        // Function to show the notifications screen
        function showNotificationsScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Notifications -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToProfileFromNotifications" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Notifications</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Notifications -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <!-- General Section -->
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">General</h3>
                        <div class="space-y-4 mb-8">
                            <div class="flex items-center justify-between w-full">
                                <div>
                                    <p class="font-semibold text-gray-800">Check-in reminders</p>
                                    <p class="text-xs text-gray-500">Receive reminders to check in with yourself</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="flex items-center justify-between w-full">
                                <div>
                                    <p class="font-semibold text-gray-800">App updates</p>
                                    <p class="text-xs text-gray-500">Get notified about new content and features</p>
                                    </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <!-- Community Section -->
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Community</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between w-full">
                                <div>
                                    <p class="font-semibold text-gray-800">Community updates</p>
                                    <p class="text-xs text-gray-500">Stay up-to-date with community discussions</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="flex items-center justify-between w-full">
                                <div>
                                    <p class="font-semibold text-gray-800">New messages</p>
                                    <p class="text-xs text-gray-500">Get notified about new messages</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to profile screen
            document.getElementById('backToProfileFromNotifications').addEventListener('click', showProfileScreen);

            // Add event listeners for toggle switches
            const toggleSwitches = appContent.querySelectorAll('.toggle-switch input[type="checkbox"]');
            toggleSwitches.forEach(toggle => {
                toggle.addEventListener('change', (event) => {
                    console.log(`${event.target.previousElementSibling.textContent} is now: ${event.target.checked}`);
                    // Here you would typically save the user's preference
                });
            });
        }

        // Function to show the help screen
        function showHelpScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Help -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToProfileFromHelp" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Help</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Help -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <!-- Search Bar -->
                        <div class="relative mb-6">
                            <input type="text" placeholder="Search for answers" class="w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <i class="fas fa-search text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                        </div>

                        <!-- Popular Questions Section -->
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Popular questions</h3>
                        <div class="space-y-3">
                            <div class="help-question flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-question="How do I track my mood?">
                                <p class="font-semibold text-gray-800">How do I track my mood?</p>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                            <div class="help-question flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-question="What are the benefits of journaling?">
                                <p class="font-semibold text-gray-800">What are the benefits of journaling?</p>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                            <div class="help-question flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-question="How can I set reminders for my activities?">
                                <p class="font-semibold text-gray-800">How can I set reminders for my activities?</p>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                            <div class="help-question flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-question="What should I do if I feel overwhelmed?">
                                <p class="font-semibold text-gray-800">What should I do if I feel overwhelmed?</p>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                            <div class="help-question flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-question="How do I connect with a therapist?">
                                <p class="font-semibold text-gray-800">How do I connect with a therapist?</p>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to profile screen
            document.getElementById('backToProfileFromHelp').addEventListener('click', showProfileScreen);

            // Add event listeners to each help question
            const helpQuestions = appContent.querySelectorAll('.help-question');
            helpQuestions.forEach(questionDiv => {
                questionDiv.addEventListener('click', () => {
                    const questionText = questionDiv.dataset.question;
                    showHelpDetailScreen(questionText);
                });
            });
        }

        // Function to show the help detail screen
        function showHelpDetailScreen(question) {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Help Detail -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToHelpFromDetail" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Help</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Help Detail -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">${question}</h3>
                        <p class="text-gray-700 leading-relaxed">
                            Here you will find detailed information on "${question}".
                            If you need further assistance, please do not hesitate to contact us via the "Contact Us" section in your profile.
                            We are here to help you!
                        </p>
                        <!-- You can add more detailed content here based on the question -->
                    </div>
                </div>
            `;
            // Link back button to help screen
            document.getElementById('backToHelpFromDetail').addEventListener('click', showHelpScreen);
        }

        // Function to show the contact us screen
        function showContactUsScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Contact Support -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToProfileFromContactUs" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Contact Support</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Contact Support -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">How can we help?</h3>
                        <div class="space-y-3">
                            <div id="emailOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                    <i class="fas fa-envelope text-xl text-gray-600"></i>
                                    </div>
                                <div>
                                    <p class="font-semibold text-gray-800">Email</p>
                                    <p class="text-xs text-blue-500">support@mindmate.com</p>
                                </div>
                            </div>
                            <div id="contactFormOption" class="flex items-center w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full mr-4">
                                    <i class="fas fa-file-alt text-xl text-gray-600"></i>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800">Contact Form</p>
                                    <p class="text-xs text-gray-500">Response time: 24-48 hours</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to profile screen
            document.getElementById('backToProfileFromContactUs').addEventListener('click', showProfileScreen);
            // Link Email option to email screen
            document.getElementById('emailOption').addEventListener('click', showEmailScreen);
            // Link Contact Form option to contact form screen
            document.getElementById('contactFormOption').addEventListener('click', showContactFormScreen);
        }

        // Function to show the email screen
        function showEmailScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Email -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToContactUsFromEmail" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Email Support</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Email -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Send us an Email</h3>
                        <p class="text-gray-700 mb-6">
                            You can send us an email directly at <a href="mailto:support@mindmate.com" class="text-blue-500 underline">support@mindmate.com</a>.
                            We will reply as soon as possible.
                        </p>
                        <textarea class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-400" rows="6" placeholder="Write your message here..."></textarea>
                        <button class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Send Email
                        </button>
                    </div>
                </div>
            `;
            // Link back button to contact us screen
            document.getElementById('backToContactUsFromEmail').addEventListener('click', showContactUsScreen);
        }

        // Function to show the contact form screen
        function showContactFormScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Contact Form -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToContactUsFromForm" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Contact Form</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Contact Form -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Fill out the form below</h3>
                        <input type="text" placeholder="Your Name" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="email" placeholder="Your Email" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="text" placeholder="Subject" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <textarea class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" rows="6" placeholder="Your Message"></textarea>
                        <button class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Submit Form
                        </button>
                        <p class="text-xs text-gray-500 mt-4 text-center">Estimated response time: 24-48 hours</p>
                    </div>
                </div>
            `;
            // Link back button to contact us screen
            document.getElementById('backToContactUsFromForm').addEventListener('click', showContactUsScreen);
        }

        // Function to show the about screen
        function showAboutScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for About MindMate -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToProfileFromAbout" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">About MindMate</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for About MindMate -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Our Mission</h3>
                        <p class="text-gray-700 leading-relaxed mb-6">
                            At MindMate, we're dedicated to supporting the mental well-being of university students. Our mission is to provide a safe, confidential, and accessible platform where students can find resources, connect with peers, and seek professional help when needed. We believe that mental health is a crucial aspect of overall well-being, and we're committed to breaking down barriers to care.
                        </p>

                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Our Values</h3>
                        <p class="text-gray-700 leading-relaxed mb-6">
                            We value empathy, inclusivity, and respect for all individuals. We strive to create a community where every student feels heard, understood, and supported. Our approach is evidence-based, and we continuously seek to improve our services based on the latest research and feedback from our users.
                        </p>

                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Privacy & Security</h3>
                        <p class="text-gray-700 leading-relaxed mb-6">
                            Your privacy is our top priority. All data shared within the MindMate app is encrypted and stored securely. We adhere to strict privacy policies to ensure your information remains confidential. For more details, please review our Privacy Policy.
                        </p>

                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Terms of Service</h3>
                        <p class="text-gray-700 leading-relaxed mb-6">
                            By using MindMate, you agree to our Terms of Service. These terms outline the rules and guidelines for using our app, including acceptable conduct, content restrictions, and liability limitations. Please read our Terms of Service carefully before using the app.
                        </p>

                        <p class="text-xs text-gray-500 mt-4 text-center">
                             2024 MindMate. All rights reserved.
                        </p>
                    </div>
                </div>
            `;
            // Link back button to profile screen
            document.getElementById('backToProfileFromAbout').addEventListener('click', showProfileScreen);
        }

        // Function to show the reminders screen
        function showRemindersScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Reminders -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToProfileFromReminders" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Reminders</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Reminders -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Your Reminders</h3>
                        <div class="space-y-3">
                            <div class="reminder-item flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200" data-title="Therapy Session" data-date="Tomorrow" data-time="2:00 PM">
                                <div>
                                    <p class="font-semibold text-gray-800">Therapy Session</p>
                                    <p class="text-xs text-gray-500">Tomorrow, 2:00 PM</p>
                                </div>
                                <i class="fas fa-edit text-blue-500 cursor-pointer edit-reminder-icon"></i>
                            </div>
                            <div class="reminder-item flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200" data-title="Study Group" data-date="Wednesday" data-time="10:00 AM">
                                <div>
                                    <p class="font-semibold text-gray-800">Study Group</p>
                                    <p class="text-xs text-gray-500">Wednesday, 10:00 AM</p>
                                </div>
                                <i class="fas fa-edit text-blue-500 cursor-pointer edit-reminder-icon"></i>
                            </div>
                            <div class="reminder-item flex items-center justify-between w-full p-4 bg-white rounded-lg shadow-sm border border-gray-200" data-title="Yoga Class" data-date="Friday" data-time="6:00 PM">
                                <div>
                                    <p class="font-semibold text-gray-800">Yoga Class</p>
                                    <p class="text-xs text-gray-500">Friday, 6:00 PM</p>
                                </div>
                                <i class="fas fa-edit text-blue-500 cursor-pointer edit-reminder-icon"></i>
                            </div>
                        </div>
                        <button id="addNewReminderButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 mt-6">
                            Add New Reminder
                        </button>
                    </div>
                </div>
            `;
            // Link back button to profile screen
            document.getElementById('backToProfileFromReminders').addEventListener('click', showProfileScreen);

            // Add event listener for "Add New Reminder" button
            document.getElementById('addNewReminderButton').addEventListener('click', showAddReminderScreen);

            // Add event listeners for edit icons
            const editReminderIcons = appContent.querySelectorAll('.edit-reminder-icon');
            editReminderIcons.forEach(icon => {
                icon.addEventListener('click', (event) => {
                    const reminderItem = event.target.closest('.reminder-item');
                    const title = reminderItem.dataset.title;
                    const date = reminderItem.dataset.date;
                    const time = reminderItem.dataset.time;
                    showEditReminderScreen(title, date, time);
                });
            });
        }

        // Function to show the add new reminder screen
        function showAddReminderScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Add New Reminder -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToRemindersFromAdd" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Add New Reminder</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Add New Reminder -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Reminder Details</h3>
                        <input type="text" id="reminderTitle" placeholder="Reminder Title" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="date" id="reminderDate" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="time" id="reminderTime" class="w-full px-4 py-3 mb-6 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <button id="saveNewReminderButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Save Reminder
                        </button>
                    </div>
                </div>
            `;
            // Link back button to reminders screen
            document.getElementById('backToRemindersFromAdd').addEventListener('click', showRemindersScreen);

            // Logic for saving a new reminder
            document.getElementById('saveNewReminderButton').addEventListener('click', () => {
                const title = document.getElementById('reminderTitle').value;
                const date = document.getElementById('reminderDate').value;
                const time = document.getElementById('reminderTime').value;
                if (title && date && time) {
                    console.log('New Reminder Saved:', { title, date, time });
                    showCustomMessage('Reminder saved!');
                    showRemindersScreen(); // Go back to reminders list
                } else {
                    showCustomMessage('Please fill all fields.');
                }
            });
        }

        // Function to show the edit reminder screen
        function showEditReminderScreen(title, date, time) {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Edit Reminder -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToRemindersFromEdit" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Edit Reminder</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Edit Reminder -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Edit Reminder Details</h3>
                        <input type="text" id="editReminderTitle" placeholder="Reminder Title" value="${title}" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="date" id="editReminderDate" value="${date}" class="w-full px-4 py-3 mb-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <input type="time" id="editReminderTime" value="${time}" class="w-full px-4 py-3 mb-6 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <button id="saveEditedReminderButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Save Changes
                        </button>
                        <button id="deleteReminderButton" class="w-full py-3 bg-red-100 text-red-600 font-semibold rounded-lg shadow-md hover:bg-red-200 transition duration-300 mt-4">
                            Delete Reminder
                        </button>
                    </div>
                </div>
            `;
            // Link back button to reminders screen
            document.getElementById('backToRemindersFromEdit').addEventListener('click', showRemindersScreen);

            // Logic for saving edited reminder
            document.getElementById('saveEditedReminderButton').addEventListener('click', () => {
                const newTitle = document.getElementById('editReminderTitle').value;
                const newDate = document.getElementById('editReminderDate').value;
                const newTime = document.getElementById('editReminderTime').value;
                if (newTitle && newDate && newTime) {
                    console.log('Reminder Edited:', { newTitle, newDate, newTime });
                    showCustomMessage('Reminder updated!');
                    showRemindersScreen(); // Go back to reminders list
                } else {
                    showCustomMessage('Please fill all fields.');
                }
            });

            // Logic for deleting reminder
            document.getElementById('deleteReminderButton').addEventListener('click', () => {
                console.log('Reminder Deleted:', { title, date, time });
                showCustomMessage('Reminder deleted!');
                showRemindersScreen(); // Go back to reminders list
            });
        }

        // Function to show the archive screen
        function showArchiveScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Archive -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToDashboardFromArchive" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Archive</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Archive -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Your Saved Notes</h3>
                        <div id="notesList" class="space-y-3">
                            <p class="text-gray-500 text-center">Archive functionality is not currently available.</p>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to dashboard screen
            document.getElementById('backToDashboardFromArchive').addEventListener('click', showDashboardScreen);
        }

        // Function to show the chat list screen
        function showChatListScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Chat List -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToDashboardFromChatList" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Chat</span>
                        <i id="addFriendButton" class="fas fa-plus text-gray-600 text-xl cursor-pointer"></i>
                    </div>

                    <!-- Search Bar -->
                    <div class="p-4">
                        <div class="relative">
                            <input type="text" placeholder="Search" class="w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <i class="fas fa-search text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                        </div>
                    </div>

                    <!-- Friends List -->
                    <div class="p-4 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Friends</h3>
                        <div class="space-y-3">
                            <div class="friend-item flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-friend-name="Ethan Carter">
                                <img src="https://placehold.co/40x40/E0E0E0/333333?text=EC" alt="Immagine di profilo di Ethan Carter" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="font-semibold text-gray-800">Ethan Carter</p>
                                    <p class="text-xs text-green-500">Online</p>
                                </div>
                            </div>
                            <div class="friend-item flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-friend-name="Sophia Bennett">
                                <img src="https://placehold.co/40x40/E0E0E0/333333?text=SB" alt="Immagine di profilo di Sophia Bennett" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="font-semibold text-gray-800">Sophia Bennett</p>
                                    <p class="text-xs text-green-500">Online</p>
                                </div>
                            </div>
                            <div class="friend-item flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-friend-name="Liam Harper">
                                <img src="https://placehold.co/40x40/E0E0E0/333333?text=LH" alt="Immagine di profilo di Liam Harper" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="font-semibold text-gray-800">Liam Harper</p>
                                    <p class="text-xs text-green-500">Online</p>
                                </div>
                            </div>
                            <div class="friend-item flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-friend-name="Olivia Hayes">
                                <img src="https://placehold.co/40x40/E0E0E0/333333?text=OH" alt="Immagine di profilo di Olivia Hayes" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="font-semibold text-gray-800">Olivia Hayes</p>
                                    <p class="text-xs text-green-500">Online</p>
                                </div>
                            </div>
                            <div class="friend-item flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-friend-name="Noah Foster">
                                <img src="https://placehold.co/40x40/E0E0E0/333333?text=NF" alt="Immagine di profilo di Noah Foster" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="font-semibold text-gray-800">Noah Foster</p>
                                    <p class="text-xs text-green-500">Online</p>
                                </div>
                            </div>
                            <div class="friend-item flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer" data-friend-name="Ava Morgan">
                                <img src="https://placehold.co/40x40/E0E0E0/333333?text=AM" alt="Immagine di profilo di Ava Morgan" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="font-semibold text-gray-800">Ava Morgan</p>
                                    <p class="text-xs text-green-500">Online</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Navigation (already present in parent structure) -->
                </div>
            `;
            // Link back button to dashboard screen
            document.getElementById('backToDashboardFromChatList').addEventListener('click', showDashboardScreen);
            // Link add friend button to add friends screen
            document.getElementById('addFriendButton').addEventListener('click', showAddFriendsScreen);

            // Add event listeners to each friend item to open chat conversation
            const friendItems = appContent.querySelectorAll('.friend-item');
            friendItems.forEach(item => {
                item.addEventListener('click', (event) => {
                    const friendName = item.dataset.friendName;
                    showChatConversationScreen(friendName);
                });
            });
        }

        // Function to show the add friends screen
        function showAddFriendsScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Add Friends -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToChatListFromAddFriends" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Add Friends</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Search Bar for username -->
                    <div class="p-4">
                        <div class="relative">
                            <input type="text" placeholder="Search by username" class="w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <i class="fas fa-search text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                        </div>
                    </div>

                    <!-- Search Results -->
                    <div class="p-4">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Search Results</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <div class="flex items-center">
                                    <img src="https://placehold.co/40x40/E0E0E0/333333?text=AS" alt="Immagine di profilo di Alex Smith" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-semibold text-gray-800">Alex Smith</p>
                                        <p class="text-xs text-gray-500">@alex.smith</p>
                                    </div>
                                </div>
                                <button class="px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Add Friend</button>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <div class="flex items-center">
                                    <img src="https://placehold.co/40x40/E0E0E0/333333?text=JL" alt="Immagine di profilo di Jennifer Lee" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-semibold text-gray-800">Jennifer Lee</p>
                                        <p class="text-xs text-gray-500">@jennifer.lee</p>
                                    </div>
                                </div>
                                <button class="px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Add Friend</button>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <div class="flex items-center">
                                    <img src="https://placehold.co/40x40/E0E0E0/333333?text=MD" alt="Immagine di profilo di Mark Davis" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-semibold text-gray-800">Mark Davis</p>
                                        <p class="text-xs text-gray-500">@mark.davis</p>
                                    </div>
                                </div>
                                <button class="px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Add Friend</button>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Requests -->
                    <div class="p-4 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Pending Requests</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <div class="flex items-center">
                                    <img src="https://placehold.co/40x40/E0E0E0/333333?text=EB" alt="Immagine di profilo di Emily Brown" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-semibold text-gray-800">Emily Brown</p>
                                        <p class="text-xs text-gray-500">@emily.brown</p>
                                    </div>
                                </div>
                                <button class="px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-semibold hover:bg-green-200 transition duration-200">Accept</button>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <div class="flex items-center">
                                    <img src="https://placehold.co/40x40/E0E0E0/333333?text=DW" alt="Immagine di profilo di David Wilson" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-semibold text-gray-800">David Wilson</p>
                                        <p class="text-xs text-gray-500">@david.wilson</p>
                                    </div>
                                </div>
                                <button class="px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-semibold hover:bg-green-200 transition duration-200">Accept</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to chat list screen
            document.getElementById('backToChatListFromAddFriends').addEventListener('click', showChatListScreen);
        }

        // Function to show a specific chat conversation screen
        function showChatConversationScreen(friendName) {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Chat Conversation -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToChatListFromConversation" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">${friendName}</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Chat Messages Area -->
                    <div class="flex-grow p-4 overflow-y-auto space-y-4">
                        <!-- Example incoming message -->
                        <div class="flex items-start">
                            <img src="https://placehold.co/30x30/E0E0E0/333333?text=${friendName.substring(0,1)}" alt="Immagine di profilo di ${friendName}" class="w-8 h-8 rounded-full mr-3">
                            <div class="bg-gray-200 text-gray-800 p-3 rounded-lg max-w-[75%]">
                                <p class="font-semibold text-sm">${friendName}</p>
                                <p class="text-sm">Hey, how are you doing today?</p>
                            </div>
                        </div>

                        <!-- Example outgoing message -->
                        <div class="flex justify-end items-end">
                            <div class="bg-blue-500 text-white p-3 rounded-lg max-w-[75%]">
                                <p class="text-sm">I'm feeling a bit overwhelmed with exams, but trying to stay positive. How about you?</p>
                            </div>
                        </div>

                        <!-- Another incoming message -->
                        <div class="flex items-start">
                            <img src="https://placehold.co/30x30/E0E0E0/333333?text=${friendName.substring(0,1)}" alt="Immagine di profilo di ${friendName}" class="w-8 h-8 rounded-full mr-3">
                            <div class="bg-gray-200 text-gray-800 p-3 rounded-lg max-w-[75%]">
                                <p class="font-semibold text-sm">${friendName}</p>
                                <p class="text-sm">I understand. Exams can be tough. I'm doing okay, just trying to manage my time effectively.</p>
                            </div>
                        </div>

                        <!-- Another outgoing message -->
                        <div class="flex justify-end items-end">
                            <div class="bg-blue-500 text-white p-3 rounded-lg max-w-[75%]">
                                <p class="text-sm">That's a good approach. Any tips for staying focused?</p>
                            </div>
                        </div>

                        <!-- Final incoming message -->
                        <div class="flex items-start">
                            <img src="https://placehold.co/30x30/E0E0E0/333333?text=${friendName.substring(0,1)}" alt="Immagine di profilo di ${friendName}" class="w-8 h-8 rounded-full mr-3">
                            <div class="bg-gray-200 text-gray-800 p-3 rounded-lg max-w-[75%]">
                                <p class="text-sm">I find breaking study sessions into smaller chunks with breaks helps. Also, setting specific goals for each session.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Message Input Area -->
                    <div class="py-4 px-2 bg-white border-t border-gray-200 flex items-center">
                        <input type="text" placeholder="Write a message" class="flex-grow px-4 py-2 bg-gray-100 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <button class="text-gray-600 text-xl ml-2">
                            <i class="fas fa-image"></i>
                        </button>
                        <button class="ml-3 text-blue-500 text-xl">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            `;
            // Link back button to chat list screen
            document.getElementById('backToChatListFromConversation').addEventListener('click', showChatListScreen);
        }

        // Function to show the community screen
        function showCommunityScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Community -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToDashboardFromCommunity" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">MindMate</span>
                        <i id="settingsIconCommunity" class="fas fa-cog text-gray-600 text-xl cursor-pointer"></i>
                    </div>

                    <!-- Search Bar -->
                    <div class="p-4">
                        <div class="relative">
                            <input type="text" placeholder="Search" class="w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <i class="fas fa-search text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                        </div>
                    </div>

                    <!-- Navigation Tabs -->
                    <div class="flex justify-around p-2 bg-white border-b border-gray-200">
                        <button class="flex-1 py-2 text-blue-600 font-semibold border-b-2 border-blue-600">All</button>
                        <button class="flex-1 py-2 text-gray-600 font-semibold hover:text-blue-600 transition duration-200">Groups</button>
                        <button class="flex-1 py-2 text-gray-600 font-semibold hover:text-blue-600 transition duration-200">Following</button>
                    </div>

                    <!-- Community Groups List -->
                    <div class="p-4 flex-grow overflow-y-auto">
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <img src="https://placehold.co/50x50/E0E0E0/333333?text=Group1" alt="Image of Mental Health Support Group" class="w-12 h-12 rounded-full mr-3 object-cover">
                                <div>
                                    <p class="font-semibold text-gray-800">Mental Health Support Group</p>
                                    <p class="text-xs text-gray-500">120 members</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <img src="https://placehold.co/50x50/E0E0E0/333333?text=Group2" alt="Image of Stress Management Tips" class="w-12 h-12 rounded-full mr-3 object-cover">
                                <div>
                                    <p class="font-semibold text-gray-800">Stress Management Tips</p>
                                    <p class="text-xs text-gray-500">85 members</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <img src="https://placehold.co/50x50/E0E0E0/333333?text=Group3" alt="Image of Anxiety Relief Techniques" class="w-12 h-12 rounded-full mr-3 object-cover">
                                <div>
                                    <p class="font-semibold text-gray-800">Anxiety Relief Techniques</p>
                                    <p class="text-xs text-gray-500">150 members</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                                <img src="https://placehold.co/50x50/E0E0E0/333333?text=Group4" alt="Image of Mindfulness Practices" class="w-12 h-12 rounded-full mr-3 object-cover">
                                <div>
                                    <p class="font-semibold text-gray-800">Mindfulness Practices</p>
                                    <p class="text-xs text-gray-500">95 members</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Group Button -->
                    <div class="p-4 flex justify-center">
                        <button id="addGroupButton" class="flex items-center px-6 py-3 bg-blue-500 text-white font-semibold rounded-full shadow-md hover:bg-blue-600 transition duration-300">
                            <i class="fas fa-plus mr-2"></i> Add Group
                        </button>
                    </div>
                </div>
            `;
            // Link back button to dashboard screen
            document.getElementById('backToDashboardFromCommunity').addEventListener('click', showDashboardScreen);
            // Link settings icon to profile screen
            document.getElementById('settingsIconCommunity').addEventListener('click', showProfileScreen);
            // Link Add Group button to new group screen
            document.getElementById('addGroupButton').addEventListener('click', showNewGroupScreen);
        }

        // Function to show the new group screen
        function showNewGroupScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for New Group -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToCommunityFromNewGroup" class="fas fa-times text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">New Group</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for New Group -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow overflow-y-auto">
                        <input type="text" placeholder="Group Name" class="w-full px-4 py-3 mb-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <textarea placeholder="Description" class="w-full px-4 py-3 mb-6 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" rows="4"></textarea>

                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Privacy</h3>
                        <div class="space-y-3 mb-6">
                            <label class="flex items-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                <input type="radio" name="privacy" value="public" class="form-radio h-4 w-4 text-blue-600" checked>
                                <div class="ml-3">
                                    <p class="font-semibold text-gray-800">Public</p>
                                    <p class="text-xs text-gray-500">Anyone can join</p>
                                </div>
                            </label>
                            <label class="flex items-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                <input type="radio" name="privacy" value="private" class="form-radio h-4 w-4 text-blue-600">
                                <div class="ml-3">
                                    <p class="font-semibold text-gray-800">Private</p>
                                    <p class="text-xs text-gray-500">Only invited members can join</p>
                                </div>
                            </label>
                            <label class="flex items-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 cursor-pointer">
                                <input type="radio" name="privacy" value="request-only" class="form-radio h-4 w-4 text-blue-600">
                                <div class="ml-3">
                                    <p class="font-semibold text-gray-800">Request-only</p>
                                    <p class="text-xs text-gray-500">Members must request to join</p>
                                </div>
                            </label>
                        </div>

                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Group rules</h3>
                        <textarea placeholder="Group rules" class="w-full px-4 py-3 mb-6 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" rows="6"></textarea>

                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Initial Members (optional)</h3>
                        <input type="text" placeholder="Search for members" class="w-full px-4 py-3 mb-6 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

                        <button id="createGroupButton" class="w-full py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300">
                            Create Group
                        </button>
                    </div>
                </div>
            `;
            // Link back button to community screen
            document.getElementById('backToCommunityFromNewGroup').addEventListener('click', showCommunityScreen);
            // Logic for creating a new group
            document.getElementById('createGroupButton').addEventListener('click', () => {
                showCustomMessage('Group created!');
                showCommunityScreen(); // Go back to community list
            });
        }

        // Function to show the resources screen
        function showResourcesScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Resources -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToDashboardFromResources" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Resources</span>
                        <i id="settingsIconResources" class="fas fa-cog text-gray-600 text-xl cursor-pointer"></i>
                    </div>

                    <!-- Navigation Tabs -->
                    <div class="flex justify-around p-2 bg-white border-b border-gray-200">
                        <button class="flex-1 py-2 text-blue-600 font-semibold border-b-2 border-blue-600">All</button>
                        <button id="articlesTabButton" class="flex-1 py-2 text-gray-600 font-semibold hover:text-blue-600 transition duration-200">Articles</button>
                        <button id="videosTabButton" class="flex-1 py-2 text-gray-600 font-semibold hover:text-blue-600 transition duration-200">Videos</button>
                    </div>

                    <!-- Featured Section -->
                    <div class="p-4 bg-gray-50">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Featured</h3>
                        <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200">
                            <div class="flex-grow">
                                <p class="text-sm font-semibold text-blue-600 mb-1">Stress Management</p>
                                <p class="font-bold text-gray-800 mb-1">Coping with Exam Anxiety</p>
                                <p class="text-xs text-gray-600">Practical tips to manage stress during exam periods.</p>
                            </div>
                            <img src="https://placehold.co/80x80/E0E0E0/333333?text=Article+Image" alt="Image of a person studying" class="w-20 h-20 rounded-lg ml-3 object-cover">
                        </div>
                    </div>

                    <!-- Mood Trends Section -->
                    <div class="p-4 bg-gray-50">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Mood Trends</h3>
                        <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                            <h4 class="font-semibold text-gray-800 mb-2">Mood Over Time</h4>
                            <p class="text-3xl font-bold text-gray-800 mb-2">Average Mood: 3.5</p>
                            <p class="text-sm text-green-600 mb-4">Last 7 Days <span class="font-bold">+10%</span></p>
                            <img src="uploaded:Immagine 2025-07-22 201206.png-30683f7c-1b51-4f9c-bd18-eee51e77a749" alt="Mood trends graph" class="w-full h-auto rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/250x150/E0E0E0/333333?text=Mood+Graph';">
                        </div>
                    </div>

                    <!-- Categories Section -->
                    <div class="p-4 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Categories</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <button id="mindfulnessCategoryButton" class="flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition duration-200">
                                <i class="fas fa-heart text-xl mb-2"></i>
                                <span class="text-sm font-semibold">Mindfulness</span>
                            </button>
                            <button id="communityCategoryButton" class="flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition duration-200">
                                <i class="fas fa-users text-xl mb-2"></i>
                                <span class="text-sm font-semibold">Community</span>
                            </button>
                            <button id="supportGroupsCategoryButton" class="flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition duration-200">
                                <i class="fas fa-handshake text-xl mb-2"></i> <!-- Changed icon here -->
                                <span class="text-sm font-semibold">Support Groups</span>
                            </button>
                            <button id="chatCategoryButton" class="flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition duration-200">
                                <i class="fas fa-comment-dots text-xl mb-2"></i>
                                <span class="text-sm font-semibold">Chat</span>
                            </button>
                            <button id="selfCareCategoryButton" class="flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition duration-200">
                                <i class="fas fa-book-open text-xl mb-2"></i>
                                <span class="text-sm font-semibold">Self-Care</span>
                            </button>
                            <button id="faqCategoryButton" class="flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition duration-200">
                                <i class="fas fa-question-circle text-xl mb-2"></i>
                                <span class="text-sm font-semibold">FAQ</span>
                            </button>
                        </div>
                    </div>

                    <div class="w-full bg-white border-t border-gray-200 grid grid-cols-4 text-center text-gray-500 text-xs py-2">
                        <button class="flex flex-col items-center justify-center p-1 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-home text-lg mb-1"></i>
                            <span>Home</span>
                        </button>
                        <button id="resourcesNavButtonBottom" class="flex flex-col items-center justify-center p-1 text-blue-600">
                            <i class="fas fa-bookmark text-lg mb-1"></i>
                            <span>Resources</span>
                        </button>
                        <button id="communityNavButtonBottom" class="flex flex-col items-center justify-center p-1 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-users text-lg mb-1"></i>
                            <span>Community</span>
                        </button>
                        <button id="profileNavButtonBottom" class="flex flex-col items-center justify-center p-1 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-user text-lg mb-1"></i>
                            <span>Profile</span>
                        </button>
                    </div>
                </div>
            `;
            // Link back button to dashboard screen
            document.getElementById('backToDashboardFromResources').addEventListener('click', showDashboardScreen);
            // Link settings icon to profile screen
            document.getElementById('settingsIconResources').addEventListener('click', showProfileScreen);
            // Link Community category button to community screen
            document.getElementById('communityCategoryButton').addEventListener('click', showCommunityScreen);
            // Link Chat category button to chat list screen
            document.getElementById('chatCategoryButton').addEventListener('click', showChatListScreen);
            // Link Support Groups category button to community screen
            document.getElementById('supportGroupsCategoryButton').addEventListener('click', showCommunityScreen);
            // Link FAQ category button to help screen
            document.getElementById('faqCategoryButton').addEventListener('click', showHelpScreen);
            // Link Mindfulness category button to about screen
            document.getElementById('mindfulnessCategoryButton').addEventListener('click', showAboutScreen);
            // Link Self-Care category button to self-care screen
            document.getElementById('selfCareCategoryButton').addEventListener('click', showSelfCareScreen);
            // Link Articles tab button to articles screen
            document.getElementById('articlesTabButton').addEventListener('click', showArticlesScreen);
            // Link Videos tab button to videos screen
            document.getElementById('videosTabButton').addEventListener('click', showVideosScreen);


            // Re-link bottom navigation buttons to the respective screens
            document.getElementById('resourcesNavButtonBottom').addEventListener('click', showResourcesScreen);
            document.getElementById('communityNavButtonBottom').addEventListener('click', showCommunityScreen);
            document.getElementById('profileNavButtonBottom').addEventListener('click', showProfileScreen);
            // Assuming there's a home button in the bottom nav, link it to dashboard
            const homeButtonBottom = appContent.querySelector('.w-full.bg-white.border-t.border-gray-200.grid.grid-cols-4 button:first-child');
            if (homeButtonBottom) {
                homeButtonBottom.addEventListener('click', showDashboardScreen);
            }
        }

        // Function to show the self-care screen
        function showSelfCareScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Self-Care -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToResourcesFromSelfCare" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Self-Care</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Self-Care -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Self-Care Practices</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">Mindful Breathing Exercise</h4>
                                <p class="text-sm text-gray-600">A simple 5-minute exercise to calm your mind.</p>
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Start Exercise</button>
                            </div>
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">Journaling Prompts</h4>
                                <p class="text-sm text-gray-600">Prompts to help you reflect and express your thoughts.</p>
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">View Prompts</button>
                            </div>
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">Guided Meditation</h4>
                                <p class="text-sm text-gray-600">Audio guided meditation for relaxation.</p>
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Listen Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to resources screen
            document.getElementById('backToResourcesFromSelfCare').addEventListener('click', showResourcesScreen);
        }

        // Function to show the articles screen
        function showArticlesScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Articles -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToResourcesFromArticles" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Articles</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Articles -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Latest Articles</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">Understanding Anxiety: A Comprehensive Guide</h4>
                                <p class="text-sm text-gray-600">Explore the causes, symptoms, and coping mechanisms for anxiety.</p>
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Read Article</button>
                            </div>
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">Boosting Your Mood: Simple Daily Habits</h4>
                                <p class="text-sm text-gray-600">Discover small changes that can significantly improve your mood.</p>
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Read Article</button>
                            </div>
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">The Importance of Sleep for Mental Health</h4>
                                <p class="text-sm text-gray-600">Learn why quality sleep is crucial for your emotional well-being.</p>
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Read Article</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to resources screen
            document.getElementById('backToResourcesFromArticles').addEventListener('click', showResourcesScreen);
        }

        // Function to show the videos screen
        function showVideosScreen() {
            if (!appContent) {
                console.error("appContent is null. DOM not ready or element not found.");
                return;
            }
            appContent.innerHTML = `
                <div class="w-full flex flex-col flex-grow">
                    <!-- Top Bar for Videos -->
                    <div class="flex justify-between items-center p-4 bg-white border-b border-gray-200">
                        <i id="backToResourcesFromVideos" class="fas fa-arrow-left text-gray-600 text-xl cursor-pointer"></i>
                        <span class="font-bold text-lg text-gray-800 flex-grow text-center">Videos</span>
                        <div class="w-6"></div> <!-- Empty space for alignment -->
                    </div>

                    <!-- Content for Videos -->
                    <div class="flex flex-col p-6 bg-gray-50 flex-grow overflow-y-auto">
                        <h3 class="text-lg font-extrabold text-gray-800 mb-4">Recommended Videos</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">5-Minute Meditation for Stress Relief</h4>
                                <p class="text-sm text-gray-600">A quick guided meditation to help you relax.</p>
                                <img src="https://placehold.co/200x120/E0E0E0/333333?text=Video+Thumbnail" alt="Video thumbnail" class="w-full h-auto rounded-lg mt-3">
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Watch Video</button>
                            </div>
                            <div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200">
                                <h4 class="font-semibold text-gray-800 mb-2">Understanding Cognitive Behavioral Therapy (CBT)</h4>
                                <p class="text-sm text-gray-600">An animated explanation of CBT principles.</p>
                                <img src="https://placehold.co/200x120/E0E0E0/333333?text=Video+Thumbnail" alt="Video thumbnail" class="w-full h-auto rounded-lg mt-3">
                                <button class="mt-3 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold hover:bg-blue-200 transition duration-200">Watch Video</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Link back button to resources screen
            document.getElementById('backToResourcesFromVideos').addEventListener('click', showResourcesScreen);
        }


        document.addEventListener('DOMContentLoaded', async () => {
            // Assign appContent here, after the DOM is ready
            appContent = document.getElementById('app-content');
            showWelcomeScreen(); // Start the app with the welcome screen
        });
    </script>
</body>
</html>
